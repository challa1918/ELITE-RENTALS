<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css\forgotpassword.css">
    <title>Forgot password</title>
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-app.js"></script>    
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Roboto:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">
    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-firestore.js"></script>
   </head>
<body>

    <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/7.23.0/firebase-auth.js"></script>
  <script>

var firebaseConfig = {
  apiKey: "AIzaSyCyVppKuVBIHgpTCEJsC6fql2j24Q9ykVc",
  authDomain: "rental-management-e12bf.firebaseapp.com",
  projectId: "rental-management-e12bf",
  storageBucket: "rental-management-e12bf.appspot.com",
  messagingSenderId: "772716264622",
  appId: "1:772716264622:web:192dc75f005fcf956c013f",
  measurementId: "G-11WGRKX5VQ"
};
          
          firebase.initializeApp(firebaseConfig);
          firebase.analytics();
          var db=firebase.firestore();
          console.log(db);
          
    </script>
    <div class="box">
    <h3>Forgot Password</h3>
    <p class="note">
        Enter your registered email address to get password reset link.
    </p>
    <div style="margin-top: 30px;"><label for="femail">Email</label> <input type="text" id="femail">
    </div>
    <input class ="btn" id="send"  style="margin-top: 17px;" type="button" value="Send Link" id="reg">
               
    </div>
    <div class="result" id="res">
        <p>
            Password reset link has been sent to your registered email address change your password and <a href="login.html"> login</a>
        </p> 
    </div>
 <script>

        document.getElementById("send").addEventListener("click",function(){
            var email=document.getElementById("femail").value;
         
            
            if(email == ""){
               
                document.querySelector('input[type=text]').style.setProperty("--c", "red");
                document.getElementById("femail").placeholder="*Please enter email address";
               return false;
           }
           if((email.charAt(email.length-4)!='.') && (email.charAt(email.length-3)!='.')){
           
                
                document.getElementById("femail").value="";
                document.querySelector('input[type=text]').style.setProperty("--c", "red");
                document.getElementById("femail").placeholder="*Please enter valid email address";
               return false;
           }
   
           if(email.indexOf('@') <= 0 ){
           
            document.getElementById("femail").value="";
            document.querySelector('input[type=text]').style.setProperty("--c", "red");
            document.getElementById("femail").placeholder="*Please enter valid email address ";
               
               return false;
           }

           var auth = firebase.auth();          

            auth.sendPasswordResetEmail(email).then(function() {
                document.getElementById("res").style.display="block";
            }).catch(function(error) {
                document.getElementById("res").style.display="none";
            });
           

        });
 </script>
</body>
</html>